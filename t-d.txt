# what2wear MVP - Task Dependency List

This document outlines the tasks required to build the Minimum Viable Product (MVP) for the StyleMate application. Tasks are organized into phases, and each task should be completed in order.

Status Key:
- [DONE]: Task is complete.
- [TODO]: Task is pending.
- [WIP]: Task is in progress.

---

### Phase 0: Project Foundation & Setup

1.  **[DONE]** Initialize Next.js project with TypeScript and Tailwind CSS.
2.  **[DONE]** Configure Supabase backend (Database, Auth, Storage).
3.  **[DONE]** Implement user authentication (Sign up, Sign in, OAuth, Sign out).
4.  **[DONE]** Initialize Git and create GitHub repository.

---

### Phase 1: Core Wardrobe Management

5.  **[PARTIALLY COMPLETE]** Database Schema: Define and create the necessary tables (`ClothingItem`, `Outfit`, `UserProfile`) in Supabase based on the PRD data model.
6.  **[DONE]** Wardrobe UI: Create a dedicated page (`/wardrobe`) to display the user's clothing items in a grid format.
7.  **[DONE]** Image Upload Logic: Implement the function to upload a clothing image file to Supabase Storage and retrieve its URL.
8.  **[DONE]** Item Creation UI & Form: Build a form where users can upload an image and manually enter initial details for a new clothing item.
9.  **[DONE]** AI Categorization Endpoint: Create a server-side endpoint that receives an image URL, calls the Gemini API to analyze the clothing item (determining category, color, season, style), and returns the data.
10. **[DONE]** Integrate AI Categorization: Connect the item creation form to the AI endpoint. After an image is uploaded, automatically send the URL to the endpoint and populate the form with the AI-generated tags.
11. **[DONE]** Save Item to Database: Save the new clothing item, including its image URL and all its tags (AI-generated or manually corrected), to the `ClothingItem` table.
12. **[DONE]** Item Details & Edit UI: Create a view to see all details of a specific clothing item and allow the user to edit/correct the tags.

---

### Phase 2: Daily Outfit Recommendations

13. **[DONE]** Recommendation Engine Endpoint: Create a server-side endpoint that:
    a. Fetches all of the user's clothing items from the database.
    b. Calls the Gemini API with the clothing data, user preferences, and context (e.g., season) to receive a recommended outfit (a combination of `ClothingItem` IDs).
14. **[DONE]** Daily Outfit UI: Create a component on the main dashboard to display the outfit recommendation for the day, showing the images of the selected items.
15. **[DONE]** Scheduler for Recommendations: Set up a daily scheduled job (e.g., using Supabase Edge Functions or a similar cron-like service) that runs the recommendation engine for every active user.
16. **[DONE]** Save Recommended Outfit: Store the generated outfit combination in the `Outfit` table for the user for that day.

---

### Phase 3: Virtual Try-On (Visuals)

17. **[TODO]** User Avatar Upload UI: Create a section in the user profile for uploading a full-body photo.
18. **[TODO]** Avatar Generation Endpoint: Create a server-side endpoint that calls the specified Google image model (`models/gemini-2.5-flash-image`) to process the user's photo and create a clean avatar.
19. **[TODO]** Outfit Rendering Endpoint: Create a server-side endpoint that takes the user's avatar and the recommended outfit items, and calls the image model to generate a "try-on" image.
20. **[TODO]** Display Rendered Outfit: Integrate the rendered image into the daily outfit UI, showing the user's avatar wearing the recommended clothes.

---

### Phase 4: User Feedback Loop

21. **[TODO]** Feedback UI: Add simple "Like" and "Dislike" buttons to the daily outfit display.
22. **[TODO]** Store Feedback: When a user clicks a feedback button, update the corresponding record in the `Outfit` table with their rating.
23. **[TODO]** Evolve Recommendations: Enhance the recommendation engine endpoint (Task 13) to include the user's past feedback (likes/dislikes) in the data sent to the Gemini API, allowing for more personalized future recommendations.

